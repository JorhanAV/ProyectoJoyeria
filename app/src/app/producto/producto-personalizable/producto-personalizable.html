<div class="dialogo-personalizacion">
  <h2>Personalizar {{ producto.nombre }}</h2>

  <div *ngIf="atributos.length > 0 && valoresAtributos.length > 0">
    <div *ngFor="let atributo of atributos" class="grupo-atributo">
      <label>{{ atributo.nombre }}</label>
      
      <select
        [(ngModel)]="seleccionados[atributo.id]"
        (change)="seleccionarValor(atributo.id, seleccionados[atributo.id])"
        [ngModelOptions]="{ standalone: true }"
      >
        <option [ngValue]="undefined">-- Selecciona una opción --</option>
        <option *ngFor="let opcion of obtenerOpciones(atributo.id)" [ngValue]="opcion">
          {{ opcion.valor }} <span *ngIf="opcion.precio_extra > 0">(+₡{{ opcion.precio_extra }})</span>
        </option>
      </select>
    </div>
  </div>

  <div class="acciones">
    <button mat-button (click)="cancelar()">Cancelar</button>
    <button mat-raised-button color="primary" (click)="confirmar()">Confirmar</button>
  </div>
</div>
